---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sneller_table Resource - sneller"
subcategory: ""
description: |-
  Configure a Sneller table.
---

# sneller_table (Resource)

Configure a Sneller table.

## Example Usage

```terraform
resource "sneller_table" "test" {
  # Enable this for production to avoid trashing your table
  # lifecycle { prevent_destroy = true }

  database = "test-db"
  table    = "test-table"

  inputs = [
    {
      pattern = "s3://sneller-source-data/data/{tenant}/{yyyy}/{mm}/{dd}/*.ndjson"
      format  = "json"

      json_hints =  [
        {
          field = "timestamp", 
          hints = ["unix_nano_seconds"]
        }
      ]
    }
  ]

  partitions = [
    {
      field = "tenant"
    },{
      field = "date"
      type  = "datetime"
      value = "{yyyy}-{mm}-{dd}T00:00:00Z"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database` (String) Database name.
- `inputs` (Attributes List) The input definition specifies where the source data is located and it format. (see [below for nested schema](#nestedatt--inputs))
- `table` (String) Table name.

### Optional

- `beta_features` (List of String) List of feature flags that can be used to turn on features for beta-testing.
- `partitions` (Attributes List) Synthetic field that is generated from parts of an input URI and used to partition table data.. (see [below for nested schema](#nestedatt--partitions))
- `region` (String) Region where the table should be created. If not set, then the table is created in the tenant's home region.
- `skip_backfill` (Boolean) Skip scanning the source bucket(s) for matching objects when the first objects are inserted into the table.

### Read-Only

- `id` (String) Terraform identifier.
- `last_updated` (String) Timestamp of the last Terraform update.
- `location` (String) S3 url of the database location (i.e. `s3://sneller-cache-bucket/db/test-db/test-table/`).

<a id="nestedatt--inputs"></a>
### Nested Schema for `inputs`

Required:

- `format` (String) Format of the input data (`json`, `json.gz`, `json.zst`, `cloudtrail.json.gz`, `csv`, `csv.gz`, `csv.zst`, `tsv`, `tsv.gz`, `tsv.zst`).
- `pattern` (String) Pattern definition to specify the source pattern (i.e. `s3://sneller-source-bucket/data/*.ndjson`).

Optional:

- `csv_hints` (Attributes Map) Ingestion hints for CSV input. (see [below for nested schema](#nestedatt--inputs--csv_hints))
- `json_hints` (Attributes List) Ingestion hints for JSON input. (see [below for nested schema](#nestedatt--inputs--json_hints))
- `tsv_hints` (Attributes Map) Ingestion hints for TSV input. (see [below for nested schema](#nestedatt--inputs--tsv_hints))

<a id="nestedatt--inputs--csv_hints"></a>
### Nested Schema for `inputs.csv_hints`

Optional:

- `fields` (Attributes List) specify hints for each field. (see [below for nested schema](#nestedatt--inputs--csv_hints--fields))
- `missing_values` (List of String) list of values that represent a missing value.
- `separator` (String) specify a custom separator (defaults to `,`).
- `skip_records` (Number) skip the first *N* records (useful when headers are used).

<a id="nestedatt--inputs--csv_hints--fields"></a>
### Nested Schema for `inputs.csv_hints.fields`

Required:

- `name` (String) Field-name (use dots to make it a subfield)

Optional:

- `allow_empty` (Boolean) Allow empty values (only valid for strings) to be ingested. If flag is set to false, then the field won't be written for the record instead.
- `default` (String) Default value if the column is an empty string
- `false_values` (List of String) Optional list of values that represent FALSE (only valid for bool type).
- `format` (String) Ingestion format (i.e. different data formats)
- `missing_values` (List of String) Optional list of values that represents a missing value.
- `no_index` (Boolean) ADon't use sparse-indexing for this value (only valid for date-time type).
- `true_values` (List of String) Optional list of values that represent TRUE (only valid for bool type).
- `type` (String) Type of field (or ignore)



<a id="nestedatt--inputs--json_hints"></a>
### Nested Schema for `inputs.json_hints`

Required:

- `field` (String) Field name.
- `hints` (List of String) Hints.


<a id="nestedatt--inputs--tsv_hints"></a>
### Nested Schema for `inputs.tsv_hints`

Optional:

- `fields` (Attributes List) specify hints for each field. (see [below for nested schema](#nestedatt--inputs--tsv_hints--fields))
- `missing_values` (List of String) list of values that represent a missing value.
- `skip_records` (Number) skip the first *N* records (useful when headers are used).

<a id="nestedatt--inputs--tsv_hints--fields"></a>
### Nested Schema for `inputs.tsv_hints.fields`

Required:

- `name` (String) Field-name (use dots to make it a subfield)

Optional:

- `allow_empty` (Boolean) Allow empty values (only valid for strings) to be ingested. If flag is set to false, then the field won't be written for the record instead.
- `default` (String) Default value if the column is an empty string
- `false_values` (List of String) Optional list of values that represent FALSE (only valid for bool type).
- `format` (String) Ingestion format (i.e. different data formats)
- `missing_values` (List of String) Optional list of values that represents a missing value.
- `no_index` (Boolean) ADon't use sparse-indexing for this value (only valid for date-time type).
- `true_values` (List of String) Optional list of values that represent TRUE (only valid for bool type).
- `type` (String) Type of field (or ignore)




<a id="nestedatt--partitions"></a>
### Nested Schema for `partitions`

Required:

- `field` (String) Name of the partition field. If this field conflicts with a field in the input data, the partition field will override it.

Optional:

- `type` (String) Type of the partition field.
- `value` (String) Template string that is used to produce the value for the partition field. If this is empty (or not set), the field name is used to determine the input URI part that will be used to determine the value.

## Import

Import is supported using the following syntax:

```shell
# Tables can be imported by specifying the tenant, region, database and table
terraform import sneller_table.test TA0M16BTT6Z4/us-east-1/test-db/test-table
```
